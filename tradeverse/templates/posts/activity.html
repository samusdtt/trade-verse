{% extends "base.html" %}

{% block title %}Activity Feed - {{ config.APP_NAME }}{% endblock %}

{% block content %}
<div class="container py-4">
	<h2 class="mb-4">Activity Feed</h2>
	
	{% if activities %}
	<div class="row">
		<div class="col-lg-8">
			{% for activity in activities %}
			<div class="card mb-3">
				<div class="card-body">
					<div class="d-flex align-items-start">
						<div class="flex-shrink-0 me-3">
							<div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
								<i class="bi bi-person text-white"></i>
							</div>
						</div>
						<div class="flex-grow-1">
							<div class="d-flex align-items-center mb-1">
								<strong class="me-2">{{ activity.user.name or activity.user.username }}</strong>
								<small class="text-muted">{{ activity.created_at.strftime('%b %d, %Y at %I:%M %p') }}</small>
							</div>
							<p class="mb-1">{{ activity.description }}</p>
							{% if activity.related_post %}
							<div class="mt-2">
								<a href="{{ url_for('posts.detail', post_id=activity.related_post.id) }}" class="text-decoration-none">
									<div class="bg-light p-2 rounded">
										<small class="text-muted">Related post:</small>
										<div class="fw-bold">{{ activity.related_post.title }}</div>
									</div>
								</a>
							</div>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
		
		<div class="col-lg-4">
			<div class="card">
				<div class="card-header">
					<h5 class="mb-0">Activity Types</h5>
				</div>
				<div class="card-body">
					<div class="d-flex flex-column gap-2">
						<div class="d-flex align-items-center">
							<i class="bi bi-plus-circle text-success me-2"></i>
							<span>New Posts</span>
						</div>
						<div class="d-flex align-items-center">
							<i class="bi bi-heart text-danger me-2"></i>
							<span>Likes</span>
						</div>
						<div class="d-flex align-items-center">
							<i class="bi bi-chat text-info me-2"></i>
							<span>Comments</span>
						</div>
						<div class="d-flex align-items-center">
							<i class="bi bi-bookmark text-warning me-2"></i>
							<span>Bookmarks</span>
						</div>
						<div class="d-flex align-items-center">
							<i class="bi bi-person-plus text-primary me-2"></i>
							<span>Follows</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{% else %}
	<div class="text-center py-5">
		<i class="bi bi-activity display-1 text-muted"></i>
		<h4 class="mt-3">No Activity Yet</h4>
		<p class="text-muted">Follow other users to see their activities in your feed.</p>
		<a href="{{ url_for('main.index') }}" class="btn btn-primary">Explore Posts</a>
	</div>
	{% endif %}
</div>
{% endblock %}